class e{static name="Lodash";static version="1.2.2";static about(){return console.log(`\n🟧 ${this.name} v${this.version}\n`)}static get(e={},i="",t=void 0){Array.isArray(i)||(i=this.toPath(i));const a=i.reduce(((e,i)=>Object(e)[i]),e);return void 0===a?t:a}static set(e={},i="",t){return Array.isArray(i)||(i=this.toPath(i)),i.slice(0,-1).reduce(((e,t,a)=>Object(e[t])===e[t]?e[t]:e[t]=/^\d+$/.test(i[a+1])?[]:{}),e)[i[i.length-1]]=t,e}static unset(e={},i=""){return Array.isArray(i)||(i=this.toPath(i)),i.reduce(((e,t,a)=>a===i.length-1?(delete e[t],!0):Object(e)[t]),e)}static toPath(e){return e.replace(/\[(\d+)\]/g,".$1").split(".").filter(Boolean)}static escape(e){const i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,(e=>i[e]))}static unescape(e){const i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};return e.replace(/&amp;|&lt;|&gt;|&quot;|&#39;/g,(e=>i[e]))}}class i{static name="$Storage";static version="1.0.9";static about(){return console.log(`\n🟧 ${this.name} v${this.version}\n`)}static data=null;static dataFile="box.dat";static#e=/^@(?<key>[^.]+)(?:\.(?<path>.*))?$/;static#i(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":"undefined"!=typeof Egern?"Egern":void 0}static getItem(i=new String,t=null){let a=t;if(!0===i.startsWith("@")){const{key:t,path:o}=i.match(this.#e)?.groups;i=t;let n=this.getItem(i,{});"object"!=typeof n&&(n={}),a=e.get(n,o);try{a=JSON.parse(a)}catch(e){}}else{switch(this.#i()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":a=$persistentStore.read(i);break;case"Quantumult X":a=$prefs.valueForKey(i);break;case"Node.js":this.data=this.#t(this.dataFile),a=this.data?.[i];break;default:a=this.data?.[i]||null}try{a=JSON.parse(a)}catch(e){}}return a??t}static setItem(i=new String,t=new String){let a=!1;if("object"==typeof t)t=JSON.stringify(t);else t=String(t);if(!0===i.startsWith("@")){const{key:o,path:n}=i.match(this.#e)?.groups;i=o;let s=this.getItem(i,{});"object"!=typeof s&&(s={}),e.set(s,n,t),a=this.setItem(i,s)}else switch(this.#i()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":a=$persistentStore.write(t,i);break;case"Quantumult X":a=$prefs.setValueForKey(t,i);break;case"Node.js":this.data=this.#t(this.dataFile),this.data[i]=t,this.#a(this.dataFile),a=!0;break;default:a=this.data?.[i]||null}return a}static removeItem(i){let t=!1;if(!0===i.startsWith("@")){const{key:a,path:o}=i.match(this.#e)?.groups;i=a;let n=this.getItem(i);"object"!=typeof n&&(n={}),keyValue=e.unset(n,o),t=this.setItem(i,n)}else switch(this.#i()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:t=!1;break;case"Quantumult X":t=$prefs.removeValueForKey(i)}return t}static clear(){let e=!1;switch(this.#i()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:e=!1;break;case"Quantumult X":e=$prefs.removeAllValues()}return e}static#t(e){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const i=this.path.resolve(e),t=this.path.resolve(process.cwd(),e),a=this.fs.existsSync(i),o=!a&&this.fs.existsSync(t);if(!a&&!o)return{};{const e=a?i:t;try{return JSON.parse(this.fs.readFileSync(e))}catch(e){return{}}}}}static#a(e=this.dataFile){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const i=this.path.resolve(e),t=this.path.resolve(process.cwd(),e),a=this.fs.existsSync(i),o=!a&&this.fs.existsSync(t),n=JSON.stringify(this.data);a?this.fs.writeFileSync(i,n):o?this.fs.writeFileSync(t,n):this.fs.writeFileSync(i,n)}}}class t{static name="ENV";static version="1.8.3";static about(){return console.log(`\n🟧 ${this.name} v${this.version}\n`)}constructor(e,i){console.log(`\n🟧 ${t.name} v${t.version}\n`),this.name=e,this.logs=[],this.isMute=!1,this.isMuteLog=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,i),this.log(`\n🚩 开始!\n${e}\n`)}environment(){switch(this.platform()){case"Surge":return $environment.app="Surge",$environment;case"Stash":return $environment.app="Stash",$environment;case"Egern":return $environment.app="Egern",$environment;case"Loon":let e=$loon.split(" ");return{device:e[0],ios:e[1],"loon-version":e[2],app:"Loon"};case"Quantumult X":return{app:"Quantumult X"};case"Node.js":return process.env.app="Node.js",process.env;default:return{}}}platform(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":"undefined"!=typeof Egern?"Egern":void 0}isNode(){return"Node.js"===this.platform()}isQuanX(){return"Quantumult X"===this.platform()}isSurge(){return"Surge"===this.platform()}isLoon(){return"Loon"===this.platform()}isShadowrocket(){return"Shadowrocket"===this.platform()}isStash(){return"Stash"===this.platform()}isEgern(){return"Egern"===this.platform()}async getScript(e){return await this.fetch(e).then((e=>e.body))}async runScript(e,t){let a=i.getItem("@chavy_boxjs_userCfgs.httpapi");a=a?.replace?.(/\n/g,"")?.trim();let o=i.getItem("@chavy_boxjs_userCfgs.httpapi_timeout");o=1*o??20,o=t?.timeout??o;const[n,s]=a.split("@"),r={url:`http://${s}/v1/scripting/evaluate`,body:{script_text:e,mock_type:"cron",timeout:o},headers:{"X-Key":n,Accept:"*/*"},timeout:o};await this.fetch(r).then((e=>e.body),(e=>this.logErr(e)))}initGotEnv(e){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,e&&(e.headers=e.headers?e.headers:{},void 0===e.headers.Cookie&&void 0===e.cookieJar&&(e.cookieJar=this.ckjar))}async fetch(i={}||"",t={}){switch(i.constructor){case Object:i={...t,...i};break;case String:i={...t,url:i}}i.method||(i.method="GET",(i.body??i.bodyBytes)&&(i.method="POST")),delete i.headers?.Host,delete i.headers?.[":authority"],delete i.headers?.["Content-Length"],delete i.headers?.["content-length"];const a=i.method.toLocaleLowerCase();switch(this.platform()){case"Loon":case"Surge":case"Stash":case"Egern":case"Shadowrocket":default:return i.timeout&&(i.timeout=parseInt(i.timeout,10),this.isSurge()||(i.timeout=1e3*i.timeout)),i.policy&&(this.isLoon()&&(i.node=i.policy),this.isStash()&&e.set(i,"headers.X-Stash-Selected-Proxy",encodeURI(i.policy)),this.isShadowrocket()&&e.set(i,"headers.X-Surge-Proxy",i.policy)),"boolean"==typeof i.redirection&&(i["auto-redirect"]=i.redirection),i.bodyBytes&&!i.body&&(i.body=i.bodyBytes,delete i.bodyBytes),await new Promise(((e,t)=>{$httpClient[a](i,((a,o,n)=>{a?t(a):(o.ok=/^2\d\d$/.test(o.status),o.statusCode=o.status,n&&(o.body=n,1==i["binary-mode"]&&(o.bodyBytes=n)),e(o))}))}));case"Quantumult X":return i.policy&&e.set(i,"opts.policy",i.policy),"boolean"==typeof i["auto-redirect"]&&e.set(i,"opts.redirection",i["auto-redirect"]),i.body instanceof ArrayBuffer?(i.bodyBytes=i.body,delete i.body):ArrayBuffer.isView(i.body)?(i.bodyBytes=i.body.buffer.slice(i.body.byteOffset,i.body.byteLength+i.body.byteOffset),delete object.body):i.body&&delete i.bodyBytes,await $task.fetch(i).then((e=>(e.ok=/^2\d\d$/.test(e.statusCode),e.status=e.statusCode,e)),(e=>Promise.reject(e.error)));case"Node.js":let t=require("iconv-lite");this.initGotEnv(i);const{url:o,...n}=i;return await this.got[a](o,n).on("redirect",((e,i)=>{try{if(e.headers["set-cookie"]){const t=e.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();t&&this.ckjar.setCookieSync(t,null),i.cookieJar=this.ckjar}}catch(e){this.logErr(e)}})).then((e=>(e.statusCode=e.status,e.body=t.decode(e.rawBody,this.encoding),e.bodyBytes=e.rawBody,e)),(e=>Promise.reject(e.message)))}}time(e,i=null){const t=i?new Date(i):new Date;let a={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(let i in a)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return e}msg(e=name,i="",t="",a){const o=e=>{switch(typeof e){case void 0:return e;case"string":switch(this.platform()){case"Surge":case"Stash":case"Egern":default:return{url:e};case"Loon":case"Shadowrocket":return e;case"Quantumult X":return{"open-url":e};case"Node.js":return}case"object":switch(this.platform()){case"Surge":case"Stash":case"Egern":case"Shadowrocket":default:return{url:e.url||e.openUrl||e["open-url"]};case"Loon":return{openUrl:e.openUrl||e.url||e["open-url"],mediaUrl:e.mediaUrl||e["media-url"]};case"Quantumult X":return{"open-url":e["open-url"]||e.url||e.openUrl,"media-url":e["media-url"]||e.mediaUrl,"update-pasteboard":e["update-pasteboard"]||e.updatePasteboard};case"Node.js":return}default:return}};if(!this.isMute)switch(this.platform()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":default:$notification.post(e,i,t,o(a));break;case"Quantumult X":$notify(e,i,t,o(a));case"Node.js":}if(!this.isMuteLog){let a=["","==============📣系统通知📣=============="];a.push(e),i&&a.push(i),t&&a.push(t),console.log(a.join("\n")),this.logs=this.logs.concat(a)}}log(...e){e.length>0&&(this.logs=[...this.logs,...e]),console.log(e.join(this.logSeparator))}logErr(e){switch(this.platform()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️ ${this.name}, 错误!`,e);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,e.stack)}}wait(e){return new Promise((i=>setTimeout(i,e)))}done(i={}){const t=((new Date).getTime()-this.startTime)/1e3;switch(this.log("",`🚩 ${this.name}, 结束! 🕛 ${t} 秒`,""),this.platform()){case"Surge":i.policy&&e.set(i,"headers.X-Surge-Policy",i.policy),$done(i);break;case"Loon":i.policy&&(i.node=i.policy),$done(i);break;case"Stash":i.policy&&e.set(i,"headers.X-Stash-Selected-Proxy",encodeURI(i.policy)),$done(i);break;case"Egern":case"Shadowrocket":default:$done(i);break;case"Quantumult X":i.policy&&e.set(i,"opts.policy",i.policy),delete i["auto-redirect"],delete i["auto-cookie"],delete i["binary-mode"],delete i.charset,delete i.host,delete i.insecure,delete i.method,delete i.opt,delete i.path,delete i.policy,delete i["policy-descriptor"],delete i.scheme,delete i.sessionIndex,delete i.statusCode,delete i.timeout,i.body instanceof ArrayBuffer?(i.bodyBytes=i.body,delete i.body):ArrayBuffer.isView(i.body)?(i.bodyBytes=i.body.buffer.slice(i.body.byteOffset,i.body.byteLength+i.body.byteOffset),delete i.body):i.body&&delete i.bodyBytes,$done(i);break;case"Node.js":process.exit(1)}}}var a={Switch:!0},o={Settings:a},n={Switch:"true",Home:{Switch:"true",Top_left:"mine",Top:["消息Top"],Top_more:[],Tab:["直播tab","推荐tab","hottopic","bangumi","anime","film","koreavtw"],Tab_default:"bangumi"},Bottom:["home","dynamic","ogv","会员购Bottom","我的Bottom"],Mine:{Switch:"true",CreatorCenter:[],Recommend:["400","402","404","403"],More:["407","410","1028"],iPad:{Upper:[],Recommend:["789","790","791","793","794","2542"],More:["797","798"]}},Region:{Index:["1","3","4","5","11","13","23","36","119","129","155","160","167","177","181","188","202","211","217","223","234","6544","65537","65539","65541","65545","65549","65550","65551","65552","65553","65555","65556","65557","65559","65560","65561","65563","95636","168312"]}},s={Tab:{tab:[{id:2036,name:"直播",uri:"bilibili://live/home",tab_id:"直播tab"},{id:2037,name:"推荐",uri:"bilibili://pegasus/promo",tab_id:"推荐tab"},{id:780,name:"热门",uri:"bilibili://pegasus/hottopic",tab_id:"hottopic"},{id:545,name:"追番",uri:"bilibili://pgc/home",tab_id:"bangumi"},{id:774,name:"动画（港澳台）",uri:"bilibili://following/home_activity_tab/6544",tab_id:"anime"},{id:151,name:"影视",uri:"bilibili://pgc/cinema-tab",tab_id:"film"},{id:801,name:"韩综（港澳台）",uri:"bilibili://following/home_activity_tab/95636",tab_id:"koreavtw"},{id:861,name:"游戏",uri:"bilibili://pegasus/vertical/802",tab_id:"game"},{id:843,name:"minecraft",uri:"bilibili://pegasus/vertical/2485003",tab_id:"mctab"},{id:1229,name:"动画同人",uri:"bilibili://pegasus/vertical/27555107",tab_id:"dhtr"},{id:1405,name:"搞笑",uri:"bilibili://pegasus/vertical/1833",tab_id:"gaoxiao"},{id:2280,name:"校园",uri:"bilibili://campus/home_tab",tab_id:"school"},{id:1716,name:"数码",uri:"bilibili://pegasus/vertical/13807",tab_id:"kj"},{id:136117,name:"新征程",uri:"bilibili://following/home_activity_tab/136117",tab_id:"165",color:"#DD1225"}],top:[{id:222,icon:"http://i0.hdslb.com/bfs/archive/734a3b610a953df398bbe6d787944514dcd94a46.png",name:"游戏中心",uri:"bilibili://game_center/home",tab_id:"游戏中心Top"},{id:108,icon:"http://i0.hdslb.com/bfs/archive/9d1c0985b9d0e2da2c2f919cc2ee0e36ea41fd90.png",name:"会员购",uri:"bilibili://mall/home/",tab_id:"会员购Top"},{id:176,icon:"http://i0.hdslb.com/bfs/archive/d43047538e72c9ed8fd8e4e34415fbe3a4f632cb.png",name:"消息",uri:"bilibili://link/im_home",tab_id:"消息Top"}],bottom:[{id:177,icon:"http://i0.hdslb.com/bfs/archive/63d7ee88d471786c1af45af86e8cb7f607edf91b.png",icon_selected:"http://i0.hdslb.com/bfs/archive/e5106aa688dc729e7f0eafcbb80317feb54a43bd.png",name:"首页",uri:"bilibili://main/home/",tab_id:"home"},{id:103,icon:"http://i0.hdslb.com/bfs/archive/b4f621f268c1f9eda501805135f132aa9498b0ba.png",icon_selected:"http://i0.hdslb.com/bfs/archive/94539249e59621214f7dc1226cf38a2b8fe4c64f.png",name:"频道",uri:"bilibili://pegasus/channel/",tab_id:"频道Bottom"},{id:179,icon:"http://i0.hdslb.com/bfs/archive/86dfbe5fa32f11a8588b9ae0fccb77d3c27cedf6.png",icon_selected:"http://i0.hdslb.com/bfs/archive/25b658e1f6b6da57eecba328556101dbdcb4b53f.png",name:"动态",uri:"bilibili://following/home/",tab_id:"dynamic"},{id:670,icon:"http://i0.hdslb.com/bfs/feed-admin/c25cabacb40e9df2ccf54c327350e1afc4ae2f8c.png",name:"发布",uri:"bilibili://uper/center_plus?relation_from=center_plus&tab_index=2",tab_id:"publish",dialog_items:[{id:617,name:"开直播",icon:"http://i0.hdslb.com/bfs/feed-admin/01f9b3f8ed61a4e59af693da9fcd38fc342ee7e5.png",uri:"activity://liveStreaming/home?source_event=14"},{id:618,name:"拍摄",icon:"http://i0.hdslb.com/bfs/feed-admin/30636aa60e594550ec47422e3875b4345e7d6017.png",uri:"bilibili://uper/user_center/add_archive/?from=1&is_new_ui=1&relation_from=center_plus"},{id:619,name:"上传",icon:"http://i0.hdslb.com/bfs/feed-admin/55c3c112f4885adc6cce0b4b94149409fd1c147b.png",uri:"bilibili://uper/user_center/add_archive/?from=0&is_new_ui=1&relation_from=center_plus"},{id:620,name:"模板创作",icon:"http://i0.hdslb.com/bfs/feed-admin/4e5188d8390754655dee0fdfd90c1088da3cdf90.png",uri:"bilibili://uper/user_center/add_archive/?from=2&is_new_ui=1&relation_from=center_plus"}],type:3},{id:884,icon:"http://i0.hdslb.com/bfs/feed-admin/68b1625cef3a8315d6fe3fbfd2a8b06c905f323a.png",icon_selected:"http://i0.hdslb.com/bfs/feed-admin/1903c6f1dc881ed4c459ab337767fd8436cda159.png",name:"节目",uri:"bilibili://following/home_bottom_tab_activity_tab/168312",tab_id:"ogv",type:4},{id:242,icon:"http://i0.hdslb.com/bfs/archive/6090d5fa7ece2a94de839e7cce4f1e774dae7779.png",icon_selected:"http://i0.hdslb.com/bfs/archive/eeaf83fb7157000776dd93f61702a049f56801d3.png",name:"会员购",uri:"bilibili://mall/home",tab_id:"会员购Bottom"},{id:105,icon:"http://i0.hdslb.com/bfs/archive/93dae0f0fb2c9887effb2840800d5b639be69351.png",icon_selected:"http://i0.hdslb.com/bfs/archive/f96bfd9ffea2e51443aed44dba6d76b7b34891c8.png",name:"消息",uri:"bilibili://link/im_home",tab_id:"消息Bottom"},{id:181,icon:"http://i0.hdslb.com/bfs/archive/4b0b2c49ffeb4f0c2e6a4cceebeef0aab1c53fe1.png",icon_selected:"http://i0.hdslb.com/bfs/archive/a54a8009116cb896e64ef14dcf50e5cade401e00.png",name:"我的",uri:"bilibili://user_center/",tab_id:"我的Bottom"}],top_more:[{id:621,icon:"http://i0.hdslb.com/bfs/feed-admin/f95dfa31c793c857af6e7b65b5387a05f30d31ba.png",name:"更多分区",uri:"bilibili://main/top_category"},{id:922,icon:"http://i0.hdslb.com/bfs/feed-admin/38beac42189ad4d838d20259a5b2cdfd302fef40.png",name:"搜索",uri:"bilibili://search"}],top_left:{mine:{exp:0,head_tag:"",url:"bilibili://user_center/",goto:1,story_background_image:"",story_foreground_image:"",listen_background_image:"",listen_foreground_image:""},videoshortcut:{exp:1,head_tag:"https://i0.hdslb.com/bfs/app/92e7b36c3bd10c850e8a2ba85d19566937751540.png",url:"bilibili://videoshortcut?user_reg_state=0",goto:2,story_background_image:"http://i0.hdslb.com/bfs/app/7391267ec11cfe99823a8cfd80532a7bc6eca390.png",story_foreground_image:"http://i0.hdslb.com/bfs/app/98098cfd9349b7500c233216169d768cd536d305.png",listen_background_image:"http://i0.hdslb.com/bfs/app/365848675f453e32b42567ba9e249a347a5df061.png",listen_foreground_image:"http://i0.hdslb.com/bfs/app/986ee5e963237d511802c4084c83c2f228e97369.png"}}},Mine:{sections_v2:[{items:[{id:396,title:"离线缓存",icon:"http://i0.hdslb.com/bfs/archive/5fc84565ab73e716d20cd2f65e0e1de9495d56f8.png",common_op_item:{},uri:"bilibili://user_center/download"},{id:397,title:"历史记录",icon:"http://i0.hdslb.com/bfs/archive/8385323c6acde52e9cd52514ae13c8b9481c1a16.png",common_op_item:{},uri:"bilibili://user_center/history"},{id:398,title:"我的收藏",icon:"http://i0.hdslb.com/bfs/archive/d79b19d983067a1b91614e830a7100c05204a821.png",common_op_item:{},uri:"bilibili://user_center/favourite"},{id:399,title:"稍后再看",icon:"http://i0.hdslb.com/bfs/archive/63bb768caa02a68cb566a838f6f2415f0d1d02d6.png",need_login:1,uri:"bilibili://user_center/watch_later",common_op_item:{}}],style:1,button:{}},{up_title:"创作中心",title:"创作中心",items:[{need_login:1,display:1,id:171,title:"创作中心",global_red_dot:1,uri:"bilibili://uper/homevc",icon:"http://i0.hdslb.com/bfs/archive/d3aad2d07538d2d43805f1fa14a412d7a45cc861.png"},{need_login:1,display:1,id:172,title:"稿件管理",global_red_dot:1,uri:"bilibili://uper/user_center/archive_list",icon:"http://i0.hdslb.com/bfs/archive/97acb2d8dec09b296a38f7f7093d651947d13b91.png"},{need_login:1,display:1,id:174,title:"有奖活动",red_dot:1,global_red_dot:1,uri:"https://member.bilibili.com/york/hot-activity",icon:"http://i0.hdslb.com/bfs/archive/7f4fa86d99bf3814bf10f8ee5d6c8c9db6e931c8.png"},{need_login:1,display:1,id:533,title:"任务中心",global_red_dot:1,uri:"https://member.bilibili.com/york/mission-center?navhide=1",icon:"http://i0.hdslb.com/bfs/archive/ae18624fd2a7bdda6d95ca606d5e4cf2647bfa4d.png"},{id:707,title:"主播中心",icon:"http://i0.hdslb.com/bfs/feed-admin/48e17ccd0ce0cfc9c7826422d5e47ce98f064c2a.png",need_login:1,uri:"https://live.bilibili.com/p/html/live-app-anchor-center/index.html?is_live_webview=1#/",display:1},{id:708,title:"主播活动",icon:"http://i0.hdslb.com/bfs/feed-admin/5bc5a1aa8dd4bc5d6f5222d29ebaca9ef9ce37de.png",need_login:1,uri:"https://live.bilibili.com/activity/live-activity-full/activity_center/mobile.html?is_live_webview=1",display:1},{id:709,title:"开播福利",icon:"https://i0.hdslb.com/bfs/legacy/97a52b64cbd8c099d6520c6be57006c954ec0f5c.png",need_login:1,uri:"https://live.bilibili.com/p/html/live-anchor-galaxy/task_center/?source_event=16&week_live_btn=1&is_live_full_webview=1#/",display:1},{id:710,title:"我的直播",icon:"http://i0.hdslb.com/bfs/feed-admin/a9be4fa50ea4772142c1fc7992cde28294d63021.png",need_login:1,uri:"https://live.bilibili.com/p/html/live-app-center/index.html?is_live_webview=1&foreground=pink&background=white",display:1}],style:1,button:{icon:"http://i0.hdslb.com/bfs/archive/205f47675eaaca7912111e0e9b1ac94cb985901f.png",style:1,url:"bilibili://uper/user_center/archive_selection",text:"发布"},type:1},{title:"推荐服务",items:[{id:400,title:"我的课程",icon:"http://i0.hdslb.com/bfs/archive/aa3a13c287e4d54a62b75917dd9970a3cde472e1.png",common_op_item:{},uri:"https://m.bilibili.com/cheese/mine?navhide=1&native.theme=1&night=0&spm_id_from=main.my-information.0.0.pv&csource=Me_myclass"},{id:401,title:"看视频免流量",icon:"http://i0.hdslb.com/bfs/archive/393dd15a4f0a149e016cd81b55bd8bd6fe40882c.png",common_op_item:{},uri:"bilibili://user_center/free_traffic"},{id:402,title:"个性装扮",icon:"http://i0.hdslb.com/bfs/archive/0bcad10661b50f583969b5a188c12e5f0731628c.png",common_op_item:{},uri:"https://www.bilibili.com/h5/mall/home?navhide=1&f_source=shop"},{id:403,title:"游戏中心",icon:"http://i0.hdslb.com/bfs/archive/873e3c16783fe660b111c02ebc4c50279cb5db57.png",common_op_item:{},uri:"bilibili://game_center/user?sourceFrom=100003"},{id:404,title:"我的钱包",icon:"http://i0.hdslb.com/bfs/archive/f416634e361824e74a855332b6ff14e2e7c2e082.png",need_login:1,common_op_item:{},uri:"bilibili://bilipay/mine_wallet"},{id:406,title:"直播中心",icon:"http://i0.hdslb.com/bfs/archive/1db5791746a0112890b77a0236baf263d71ecb27.png",common_op_item:{},uri:"bilibili://user_center/live_center"},{id:423,title:"邀好友赚红包",icon:"http://i0.hdslb.com/bfs/archive/de39fc8899204a4e5abaab68fa4bd604068ce124.png",common_op_item:{},uri:"https://www.bilibili.com/blackboard/redpack/activity-8SX5lYqUj.html?from=wode",red_dot_for_new:!0},{id:514,title:"社区中心",icon:"http://i0.hdslb.com/bfs/archive/551a39b7539e64d3b15775295c4b2e13e5513b43.png",need_login:1,uri:"https://www.bilibili.com/blackboard/dynamic/169422",common_op_item:{}},{id:544,title:"创作中心",icon:"http://i0.hdslb.com/bfs/archive/a879489af0406067c39940316396ae63aeefe088.png",need_login:1,uri:"bilibili://upper/homevc",common_op_item:{}},{id:622,title:"会员购中心",icon:"http://i0.hdslb.com/bfs/archive/19c794f01def1a267b894be84427d6a8f67081a9.png",common_op_item:{},uri:"bilibili://mall/mine?msource=mine"},{id:924,title:"哔哩哔哩公益",icon:"http://i0.hdslb.com/bfs/feed-admin/a943016e8bef03222998b4760818894ba2bd5c80.png",common_op_item:{},uri:"https://love.bilibili.com/h5/?navhide=1&c=1"},{id:990,title:"能量加油站",icon:"http://i0.hdslb.com/bfs/feed-admin/6acb0cb1f719703c62eb443ba6cf3abfc51164ab.png",common_op_item:{},uri:"https://www.bilibili.com/blackboard/dynamic/306424"}],style:1,button:{}},{title:"更多服务",items:[{id:407,title:"联系客服",icon:"http://i0.hdslb.com/bfs/archive/7ca840cf1d887a45ee1ef441ab57845bf26ef5fa.png",common_op_item:{},uri:"bilibili://user_center/feedback"},{id:410,title:"设置",icon:"http://i0.hdslb.com/bfs/archive/e932404f2ee62e075a772920019e9fbdb4b5656a.png",common_op_item:{},uri:"bilibili://user_center/setting"},{id:741,title:"我的钱包",icon:"http://i0.hdslb.com/bfs/archive/f416634e361824e74a855332b6ff14e2e7c2e082.png",need_login:1,uri:"bilibili://bilipay/mine_wallet",common_op_item:{}},{id:742,title:"稿件管理",icon:"http://i0.hdslb.com/bfs/archive/97acb2d8dec09b296a38f7f7093d651947d13b91.png",need_login:1,uri:"bilibili://uper//user_center/manuscript-list/",common_op_item:{}},{id:812,title:"听视频",icon:"http://i0.hdslb.com/bfs/feed-admin/97276c5df099e516946682edf4ef10dc6b18c7dc.png",common_op_item:{},uri:"bilibili://podcast",red_dot_for_new:!0},{id:950,title:"青少年模式",icon:"http://i0.hdslb.com/bfs/archive/68acfd37a735411ad56b59b3253acc33f94f7046.png",common_op_item:{},uri:"bilibili://user_center/teenagersmode"},{id:964,title:"青少年守护",icon:"http://i0.hdslb.com/bfs/feed-admin/90f5920ac351da19c6451757ad71704fcea8192b.png",common_op_item:{},uri:"https://www.bilibili.com/h5/teenagers/home?navhide=1"},{id:1028,title:"我的NFT",icon:"http://i0.hdslb.com/bfs/feed-admin/569a9178aa707f2f2494e34bb6eb1d9d14bd9a7b.png",need_login:1,uri:"https://www.bilibili.com/h5/pangu/gat?navhide=1",common_op_item:{}}],style:2,button:{}}],ipad_upper_sections:[{id:785,title:"投稿",uri:"/uper/user_center/add_archive",icon:"http://i0.hdslb.com/bfs/feed-admin/d0ad3c04df2253bfe0261cadd7adca1f1433eb50.png",mng_resource:{icon_id:0,icon:""}},{id:786,title:"创作首页",uri:"/uper/homevc",icon:"http://i0.hdslb.com/bfs/feed-admin/d20dfed3b403c895506b1c92ecd5874abb700c01.png",mng_resource:{icon_id:0,icon:""}},{id:787,title:"稿件管理",uri:"/uper/user_center/archive_list",icon:"http://i0.hdslb.com/bfs/feed-admin/325609d2b6059f278683d773636bf48681da9d6c.png",mng_resource:{icon_id:0,icon:""}},{id:788,title:"有奖活动",uri:"https://www.bilibili.com/blackboard/x/activity-tougao-h5/all",icon:"http://i0.hdslb.com/bfs/feed-admin/3ad73f45adfdeb999bb11a306dc8c8e169b426d9.png",mng_resource:{icon_id:0,icon:""}}],ipad_recommend_sections:[{id:789,title:"我的关注",uri:"bilibili://user_center/myfollows",icon:"http://i0.hdslb.com/bfs/feed-admin/fdd7f676030c6996d36763a078442a210fc5a8c0.png",mng_resource:{icon_id:0,icon:""}},{id:790,title:"我的消息",uri:"bilibili://link/im_home",icon:"http://i0.hdslb.com/bfs/feed-admin/e1471740130a08a48b02a4ab29ed9d5f2281e3bf.png",mng_resource:{icon_id:0,icon:""}},{id:791,title:"我的钱包",uri:"bilibili://bilipay/mine_wallet",icon:"http://i0.hdslb.com/bfs/feed-admin/180f089fd2debb522919b22e08546cf5bc279026.png",mng_resource:{icon_id:0,icon:""}},{id:792,title:"直播中心",uri:"bilibili://user_center/live_center",icon:"http://i0.hdslb.com/bfs/feed-admin/d7255968066cef435370b18e87bdf3ac62d2bc14.png",mng_resource:{icon_id:0,icon:""}},{id:793,title:"大会员",uri:"bilibili://user_center/vip",icon:"http://i0.hdslb.com/bfs/feed-admin/a7d52c532beaedbec7c40883788b5d9c8adf96be.png",mng_resource:{icon_id:0,icon:""}},{id:794,title:"我的课程",uri:"bilibili://user_center/course",icon:"http://i0.hdslb.com/bfs/feed-admin/a2139eb7b1ac17c12fa26aff70efe5852195c53d.png",mng_resource:{icon_id:0,icon:""}},{id:2542,title:"我的游戏",uri:"bilibili://hd/game/my_game",icon:"https://i0.hdslb.com/bfs/legacy/59bf32e258af044a47badb39f3093286d92eb6d3.png",mng_resource:{icon_id:0,icon:""}}],ipad_more_sections:[{id:797,title:"我的客服",uri:"bilibili://user_center/feedback",icon:"http://i0.hdslb.com/bfs/feed-admin/7801a6180fb67cf5f8ee05a66a4668e49fb38788.png",mng_resource:{icon_id:0,icon:""}},{id:798,title:"设置",uri:"bilibili://user_center/setting",icon:"http://i0.hdslb.com/bfs/feed-admin/34e8faea00b3dd78977266b58d77398b0ac9410b.png",mng_resource:{icon_id:0,icon:""}},{id:1070,title:"青少年守护",uri:"https://www.bilibili.com/h5/teenagers/home?navhide=1",icon:"https://i0.hdslb.com/bfs/feed-admin/90f5920ac351da19c6451757ad71704fcea8192b.png",mng_resource:{icon_id:0,icon:""}}]},Region:{index:[{tid:1,reid:0,name:"动画",logo:"http://i0.hdslb.com/bfs/archive/9b3bb8cfc8d87809ffa409bc65def8d8c3eaf72b.png",goto:"0",param:"",uri:"bilibili://region/1",type:0,children:[{tid:24,reid:1,name:"MAD·AMV",logo:"",goto:"0",param:"",type:0},{tid:25,reid:1,name:"MMD·3D",logo:"",goto:"0",param:"",type:0},{tid:27,reid:1,name:"综合",logo:"",goto:"0",param:"",type:0},{tid:47,reid:1,name:"短片·手书·配音",logo:"",goto:"0",param:"",type:0},{tid:210,reid:1,name:"手办·模玩",logo:"",goto:"0",param:"",type:0},{tid:86,reid:1,name:"特摄",logo:"",goto:"0",param:"",type:0},{tid:253,reid:1,name:"动漫杂谈",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:3,reid:0,name:"音乐",logo:"http://i0.hdslb.com/bfs/archive/3a99c51d00038ced3989686b6f3c49d01aa34207.png",goto:"0",param:"",uri:"bilibili://region/3",type:0,children:[{tid:28,reid:3,name:"原创音乐",logo:"",goto:"0",param:"",type:0},{tid:29,reid:3,name:"音乐现场",logo:"",goto:"0",param:"",type:0},{tid:30,reid:3,name:"VOCALOID·UTAU",logo:"",goto:"0",param:"",type:0},{tid:31,reid:3,name:"翻唱",logo:"",goto:"0",param:"",type:0},{tid:59,reid:3,name:"演奏",logo:"",goto:"0",param:"",type:0},{tid:193,reid:3,name:"MV",logo:"",goto:"0",param:"",type:0},{tid:243,reid:3,name:"乐评盘点",logo:"",goto:"0",param:"",type:0},{tid:244,reid:3,name:"音乐教学",logo:"",goto:"0",param:"",type:0},{tid:130,reid:3,name:"音乐综合",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:4,reid:0,name:"游戏",logo:"http://i0.hdslb.com/bfs/archive/9c88ce1adaecf31e27121bdbb5a29824d655d0a6.png",goto:"0",param:"",uri:"bilibili://region/4",type:0,children:[{tid:17,reid:4,name:"单机游戏",logo:"",goto:"0",param:"",type:0},{tid:171,reid:4,name:"电子竞技",logo:"http://i0.hdslb.com/bfs/archive/0511bbb27a1f175a91bf34cfd46a8a8303e607bd.png",goto:"0",param:"",type:0},{tid:172,reid:4,name:"手机游戏",logo:"http://i0.hdslb.com/bfs/archive/572945562c8f04437564ba37083f1c2c5ca9432b.png",goto:"0",param:"",type:0},{tid:65,reid:4,name:"网络游戏",logo:"",goto:"0",param:"",type:0},{tid:173,reid:4,name:"桌游棋牌",logo:"http://i0.hdslb.com/bfs/archive/95acf71eacc1cf1fa542d0dcbf3480bafaa6005c.png",goto:"0",param:"",type:0},{tid:121,reid:4,name:"GMV",logo:"",goto:"0",param:"",type:0},{tid:136,reid:4,name:"音游",logo:"",goto:"0",param:"",type:0},{tid:19,reid:4,name:"Mugen",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:5,reid:0,name:"娱乐",logo:"http://i0.hdslb.com/bfs/archive/a9bcb4cb7e216c2ea28ba3dc10acd2d210f739bd.png",goto:"0",param:"",uri:"bilibili://region/5",type:0,children:[{tid:71,reid:5,name:"综艺",logo:"",goto:"0",param:"",type:0},{tid:241,reid:5,name:"娱乐杂谈",logo:"",goto:"0",param:"",type:0},{tid:242,reid:5,name:"粉丝创作",logo:"",goto:"0",param:"",type:0},{tid:137,reid:5,name:"明星综合",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:11,reid:0,name:"电视剧",logo:"http://i0.hdslb.com/bfs/archive/30779a6904875754762e666b7076014528ef4834.png",goto:"0",param:"",uri:"bilibili://pgc/cinema/tv",type:0,is_bangumi:1,children:[{tid:185,reid:11,name:"国产剧",logo:"",goto:"0",param:"",type:0},{tid:187,reid:11,name:"海外剧",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:11,reid:0,name:"电视剧",logo:"http://i0.hdslb.com/bfs/archive/30779a6904875754762e666b7076014528ef4834.png",goto:"0",param:"",uri:"bilibili://pgc/partition_page?page_name=tv-operation&title=%E7%94%B5%E8%A7%86%E5%89%A7&select_id=1",type:0,is_bangumi:1,children:[{tid:185,reid:11,name:"国产剧",logo:"",goto:"0",param:"",type:0},{tid:187,reid:11,name:"海外剧",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:13,reid:0,name:"番剧",logo:"http://i0.hdslb.com/bfs/archive/6f629bd0dcd71d7b9911803f8e4f94fd0e5b4bfd.png",goto:"0",param:"",uri:"bilibili://pgc/partition_page?page_name=bangumi-operation&title=%E7%95%AA%E5%89%A7&select_id=1",type:1,is_bangumi:1,children:[{tid:33,reid:13,name:"连载动画",logo:"http://i0.hdslb.com/bfs/archive/02c1ddbe698c4cba3c6db941047957d17b7910d7.png",goto:"0",param:"",type:0},{tid:32,reid:13,name:"完结动画",logo:"http://i0.hdslb.com/bfs/archive/efb691127ea5b547b64431a59b27b278d6803172.png",goto:"0",param:"",type:0},{tid:51,reid:13,name:"资讯",logo:"",goto:"0",param:"",type:0},{tid:152,reid:13,name:"官方延伸",logo:"http://i0.hdslb.com/bfs/archive/8eb0bf53223544526bf99ec6f636758e2afed503.png",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"top"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:13,reid:0,name:"番剧",logo:"http://i0.hdslb.com/bfs/archive/6f629bd0dcd71d7b9911803f8e4f94fd0e5b4bfd.png",goto:"0",param:"",uri:"bilibili://pgc/bangumi",type:0,is_bangumi:1,children:[{tid:33,reid:13,name:"连载动画",logo:"http://i0.hdslb.com/bfs/archive/02c1ddbe698c4cba3c6db941047957d17b7910d7.png",goto:"0",param:"",type:0},{tid:32,reid:13,name:"完结动画",logo:"http://i0.hdslb.com/bfs/archive/efb691127ea5b547b64431a59b27b278d6803172.png",goto:"0",param:"",type:0},{tid:51,reid:13,name:"资讯",logo:"",goto:"0",param:"",type:0},{tid:152,reid:13,name:"官方延伸",logo:"http://i0.hdslb.com/bfs/archive/8eb0bf53223544526bf99ec6f636758e2afed503.png",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"top"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:13,reid:0,name:"番劇",logo:"http://i0.hdslb.com/bfs/archive/6f629bd0dcd71d7b9911803f8e4f94fd0e5b4bfd.png",goto:"0",param:"",uri:"bilibili://pgc/bangumi",type:1,is_bangumi:1,config:[{scenes_name:"region",scenes_type:"top"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:23,reid:0,name:"电影",logo:"http://i0.hdslb.com/bfs/archive/137edde9deb7dfcdf610ed2d1ec63bae6ef3ba0a.png",goto:"0",param:"",uri:"bilibili://pgc/cinema/movie",type:0,is_bangumi:1,children:[{tid:147,reid:23,name:"华语电影",logo:"",goto:"0",param:"",type:0},{tid:145,reid:23,name:"欧美电影",logo:"",goto:"0",param:"",type:0},{tid:146,reid:23,name:"日本电影",logo:"",goto:"0",param:"",type:0},{tid:83,reid:23,name:"其他国家",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:36,reid:0,name:"知识",logo:"http://i0.hdslb.com/bfs/archive/d5bb279936dbe661f958683231566214056987b2.png",goto:"0",param:"",uri:"bilibili://region/36",type:0,children:[{tid:39,reid:36,name:"演講·公開課",logo:"",goto:"0",param:"",type:0},{tid:95,reid:36,name:"數碼",logo:"",goto:"0",param:"",type:0},{tid:98,reid:36,name:"機械",logo:"",goto:"0",param:"",type:0},{tid:122,reid:36,name:"野生技能协会",logo:"",goto:"0",param:"",type:0},{tid:124,reid:36,name:"社科·法律·心理",logo:"",goto:"0",param:"",type:0},{tid:201,reid:36,name:"科学科普",logo:"",goto:"0",param:"",type:0},{tid:207,reid:36,name:"财经商业",logo:"",goto:"0",param:"",type:0},{tid:208,reid:36,name:"校园学习",logo:"",goto:"0",param:"",type:0},{tid:209,reid:36,name:"职业职场",logo:"",goto:"0",param:"",type:0},{tid:228,reid:36,name:"人文历史",logo:"",goto:"0",param:"",type:0},{tid:229,reid:36,name:"设计·创意",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:119,reid:0,name:"鬼畜",logo:"http://i0.hdslb.com/bfs/archive/de50290b11c65108eb70766fa887032b948d2e4b.png",goto:"0",param:"",uri:"bilibili://region/119",type:0,children:[{tid:22,reid:119,name:"鬼畜调教",logo:"",goto:"0",param:"",type:0},{tid:26,reid:119,name:"音MAD",logo:"",goto:"0",param:"",type:0},{tid:126,reid:119,name:"人力VOCALOID",logo:"",goto:"0",param:"",type:0},{tid:127,reid:119,name:"教程演示",logo:"",goto:"0",param:"",type:0},{tid:216,reid:119,name:"鬼畜剧场",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:129,reid:0,name:"舞蹈",logo:"http://i0.hdslb.com/bfs/archive/4769a6faa9ccfde4a029eca36b979bac486afd14.png",goto:"0",param:"",uri:"bilibili://region/129",type:0,children:[{tid:20,reid:129,name:"宅舞",logo:"",goto:"0",param:"",type:0},{tid:154,reid:129,name:"舞蹈综合",logo:"",goto:"0",param:"",type:0},{tid:156,reid:129,name:"舞蹈教程",logo:"http://i0.hdslb.com/bfs/archive/c4a42b0d7df5e4eed9fa0980445f45fff6903c5c.png",goto:"0",param:"",type:0},{tid:198,reid:129,name:"街舞",logo:"",goto:"0",param:"",type:0},{tid:199,reid:129,name:"明星舞蹈",logo:"",goto:"0",param:"",type:0},{tid:200,reid:129,name:"国风舞蹈",logo:"",goto:"0",param:"",type:0},{tid:255,reid:129,name:"手势·网红舞",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:155,reid:0,name:"时尚",logo:"http://i0.hdslb.com/bfs/archive/1842562be5ded346d79312b24fafedbc1d78c8e2.png",goto:"0",param:"",uri:"bilibili://region/155",type:0,children:[{tid:157,reid:155,name:"美妆护肤",logo:"http://i0.hdslb.com/bfs/archive/3f6d8cc081e5dd413eda83527b5ca91fa51f5891.png",goto:"0",param:"",type:0},{tid:158,reid:155,name:"穿搭",logo:"http://i0.hdslb.com/bfs/archive/5df77c1b13f20af22ec9f595f6a83f8b65d469a0.png",goto:"0",param:"",type:0},{tid:159,reid:155,name:"时尚潮流",logo:"http://i0.hdslb.com/bfs/archive/5d5767ed736a2808e7bf9e74a58f1eb5eea963cd.png",goto:"0",param:"",type:0},{tid:164,reid:155,name:"健身",logo:"http://i0.hdslb.com/bfs/archive/c5da2d170056227118594ab2c70d40ad9d0eed5c.png",goto:"0",param:"",type:0},{tid:252,reid:155,name:"仿妆cos",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:160,reid:0,name:"生活",logo:"http://i0.hdslb.com/bfs/archive/50731fc4b9ec487ef2e3861a97e0eb4671b7bcef.png",goto:"0",param:"",uri:"bilibili://region/160",type:0,children:[{tid:21,reid:160,name:"日常",logo:"",goto:"0",param:"",type:0},{tid:75,reid:160,name:"動物圈",logo:"",goto:"0",param:"",type:0},{tid:76,reid:160,name:"美食圈",logo:"",goto:"0",param:"",type:0},{tid:138,reid:160,name:"搞笑",logo:"",goto:"0",param:"",type:0},{tid:161,reid:160,name:"手工",logo:"http://i0.hdslb.com/bfs/archive/f87bb34913e8f7eeef216aba813961c47117e783.png",goto:"0",param:"",type:0},{tid:162,reid:160,name:"绘画",logo:"http://i0.hdslb.com/bfs/archive/e6b66a76eb07f2acffd00b8f8c1cc0ff57e75e53.png",goto:"0",param:"",type:0},{tid:163,reid:160,name:"運動",logo:"http://i0.hdslb.com/bfs/archive/e6b66a76eb07f2acffd00b8f8c1cc0ff57e75e53.png",goto:"0",param:"",type:0},{tid:250,reid:160,name:"出行",logo:"",goto:"0",param:"",type:0},{tid:251,reid:160,name:"三农",logo:"",goto:"0",param:"",type:0},{tid:239,reid:160,name:"家居房产",logo:"",goto:"0",param:"",type:0},{tid:254,reid:160,name:"亲子",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:167,reid:0,name:"国创",logo:"http://i0.hdslb.com/bfs/archive/1586ec926eac1ea876cb74d32df51394d8e72341.png",goto:"0",param:"",uri:"bilibili://pgc/partition_page?page_name=gc-operation&title=%E5%9B%BD%E5%88%9B&select_id=1",type:1,is_bangumi:1,children:[{tid:153,reid:167,name:"国产动画",logo:"",goto:"0",param:"",type:0},{tid:168,reid:167,name:"国产原创相关",logo:"",goto:"0",param:"",type:0},{tid:169,reid:167,name:"布袋戏",logo:"",goto:"0",param:"",type:0},{tid:195,reid:167,name:"动态漫·广播剧",logo:"",goto:"0",param:"",type:0},{tid:170,reid:167,name:"资讯",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"top"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:167,reid:0,name:"国创",logo:"http://i0.hdslb.com/bfs/archive/1586ec926eac1ea876cb74d32df51394d8e72341.png",goto:"0",param:"",uri:"bilibili://pgc/domestic",type:0,is_bangumi:1,children:[{tid:153,reid:167,name:"国产动画",logo:"",goto:"0",param:"",type:0},{tid:168,reid:167,name:"国产原创相关",logo:"",goto:"0",param:"",type:0},{tid:169,reid:167,name:"布袋戏",logo:"",goto:"0",param:"",type:0},{tid:195,reid:167,name:"动态漫·广播剧",logo:"",goto:"0",param:"",type:0},{tid:170,reid:167,name:"资讯",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"top"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:167,reid:0,name:"國創",logo:"http://i0.hdslb.com/bfs/archive/1586ec926eac1ea876cb74d32df51394d8e72341.png",goto:"0",param:"",uri:"bilibili://pgc/domestic",type:1,is_bangumi:1,config:[{scenes_name:"region",scenes_type:"top"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:177,reid:0,name:"纪录片",logo:"http://i0.hdslb.com/bfs/archive/884a644c6bb4b8bb16f9746ef35fbaba396e0b8c.png",goto:"0",param:"",uri:"bilibili://pgc/partition_page?page_name=documentary-operation&title=%E7%BA%AA%E5%BD%95%E7%89%87&select_id=1",type:1,children:[{tid:37,reid:177,name:"人文·历史",logo:"",goto:"0",param:"",type:0},{tid:178,reid:177,name:"科学·探索·自然",logo:"",goto:"0",param:"",type:0},{tid:179,reid:177,name:"军事",logo:"",goto:"0",param:"",type:0},{tid:180,reid:177,name:"社会·美食·旅行",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"top"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:177,reid:0,name:"纪录片",logo:"http://i0.hdslb.com/bfs/archive/884a644c6bb4b8bb16f9746ef35fbaba396e0b8c.png",goto:"0",param:"",uri:"bilibili://pgc/cinema/doc",type:0,children:[{tid:37,reid:177,name:"人文·历史",logo:"",goto:"0",param:"",type:0},{tid:178,reid:177,name:"科学·探索·自然",logo:"",goto:"0",param:"",type:0},{tid:179,reid:177,name:"军事",logo:"",goto:"0",param:"",type:0},{tid:180,reid:177,name:"社会·美食·旅行",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"},{scenes_name:"region",scenes_type:"top"}]},{tid:181,reid:0,name:"影视",logo:"http://i0.hdslb.com/bfs/archive/f90bb1ef59630ad9765486c6088a4944b96e88a3.png",goto:"0",param:"",uri:"bilibili://region/181",type:0,children:[{tid:182,reid:181,name:"影视杂谈",logo:"",goto:"0",param:"",type:0},{tid:183,reid:181,name:"影视剪辑",logo:"",goto:"0",param:"",type:0},{tid:85,reid:181,name:"小剧场",logo:"",goto:"0",param:"",type:0},{tid:184,reid:181,name:"预告·资讯",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:188,reid:0,name:"科技",logo:"http://i0.hdslb.com/bfs/feed-admin/4a687a86b49feea68d423fd1bf2c461acfe59b70.png",goto:"0",param:"",uri:"bilibili://region/188",type:0,children:[{tid:95,reid:188,name:"数码",logo:"",goto:"0",param:"",type:0},{tid:230,reid:188,name:"软件应用",logo:"",goto:"0",param:"",type:0},{tid:231,reid:188,name:"计算机技术",logo:"",goto:"0",param:"",type:0},{tid:232,reid:188,name:"科工机械",logo:"",goto:"0",param:"",type:0},{tid:233,reid:188,name:"极客DIY",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"},{scenes_name:"attention"}]},{tid:202,reid:0,name:"资讯",logo:"https://i0.hdslb.com/bfs/legacy/d71e70e1bfcb7b27ffe88e6cb82868c68b084464.png",goto:"0",param:"",uri:"bilibili://region/202",type:0,children:[{tid:203,reid:202,name:"热点",logo:"",goto:"0",param:"",type:0},{tid:204,reid:202,name:"环球",logo:"",goto:"0",param:"",type:0},{tid:205,reid:202,name:"社会",logo:"",goto:"0",param:"",type:0},{tid:206,reid:202,name:"综合",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"search"},{scenes_name:"tag"},{scenes_name:"attention"}]},{tid:211,reid:0,name:"美食",logo:"http://i0.hdslb.com/bfs/feed-admin/0f5e21f08616f9c02d706433ba1c00bd5b889c7b.png",goto:"0",param:"",uri:"bilibili://region/211",type:0,children:[{tid:76,reid:211,name:"美食制作",logo:"",goto:"0",param:"",type:0},{tid:212,reid:211,name:"美食侦探",logo:"",goto:"0",param:"",type:0},{tid:213,reid:211,name:"美食测评",logo:"",goto:"0",param:"",type:0},{tid:214,reid:211,name:"田园美食",logo:"",goto:"0",param:"",type:0},{tid:215,reid:211,name:"美食记录",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:217,reid:0,name:"动物圈",logo:"http://i0.hdslb.com/bfs/feed-admin/9f3303b20e12ac874c379da09bca9ce4d0b2f88c.png",goto:"0",param:"",uri:"bilibili://region/217",type:0,children:[{tid:218,reid:217,name:"喵星人",logo:"",goto:"0",param:"",type:0},{tid:219,reid:217,name:"汪星人",logo:"",goto:"0",param:"",type:0},{tid:222,reid:217,name:"小宠异宠",logo:"",goto:"0",param:"",type:0},{tid:221,reid:217,name:"野生动物",logo:"",goto:"0",param:"",type:0},{tid:220,reid:217,name:"动物二创",logo:"",goto:"0",param:"",type:0},{tid:75,reid:217,name:"动物综合",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"search"},{scenes_name:"rank"},{scenes_name:"tag"}]},{tid:223,reid:0,name:"汽车",logo:"http://i0.hdslb.com/bfs/feed-admin/1515d944550494abf81b552a84484dce80287242.png",goto:"0",param:"",uri:"bilibili://region/223",type:0,children:[{tid:245,reid:223,name:"赛车",logo:"",goto:"0",param:"",type:0},{tid:246,reid:223,name:"改装玩车",logo:"",goto:"0",param:"",type:0},{tid:247,reid:223,name:"新能源车",logo:"",goto:"0",param:"",type:0},{tid:248,reid:223,name:"房车",logo:"",goto:"0",param:"",type:0},{tid:240,reid:223,name:"摩托车",logo:"",goto:"0",param:"",type:0},{tid:227,reid:223,name:"购车攻略",logo:"",goto:"0",param:"",type:0},{tid:176,reid:223,name:"汽车生活",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:234,reid:0,name:"运动",logo:"http://i0.hdslb.com/bfs/feed-admin/56a67fa38d8d7378ab4154307d26cffce2d1ae3f.png",goto:"0",param:"",uri:"bilibili://region/234",type:0,children:[{tid:235,reid:234,name:"篮球",logo:"",goto:"0",param:"",type:0},{tid:249,reid:234,name:"足球",logo:"",goto:"0",param:"",type:0},{tid:164,reid:234,name:"健身",logo:"",goto:"0",param:"",type:0},{tid:236,reid:234,name:"竞技体育",logo:"",goto:"0",param:"",type:0},{tid:237,reid:234,name:"运动文化",logo:"",goto:"0",param:"",type:0},{tid:238,reid:234,name:"运动综合",logo:"",goto:"0",param:"",type:0}],config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"rank"},{scenes_name:"search"},{scenes_name:"tag"}]},{tid:65537,reid:0,name:"直播",logo:"http://i0.hdslb.com/bfs/archive/1b0ac7eafd51b03a0dc5b2390eec2fbffb25adf7.png",goto:"0",param:"",uri:"bilibili://home/?tab=直播",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65539,reid:0,name:"游戏中心",logo:"http://i0.hdslb.com/bfs/archive/656df3124c81dd0e19bdc0a3e017091268b3db73.jpg",goto:"0",param:"",uri:"bilibili://game_center",type:1,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65541,reid:0,name:"专栏",logo:"http://i0.hdslb.com/bfs/archive/a0c0e133644c47d6263cf24cf8364e2106c102c3.png",goto:"0",param:"",uri:"bilibili://article/category/",type:1,config:[{scenes_name:"region",scenes_type:"bottom"},{scenes_name:"search"}]},{tid:65541,reid:0,name:"专栏",logo:"http://i0.hdslb.com/bfs/archive/a0c0e133644c47d6263cf24cf8364e2106c102c3.png",goto:"0",param:"",uri:"bilibili://article/category/",type:0,config:[{scenes_name:"region",scenes_type:"top"}]},{tid:65545,reid:0,name:"放映厅",logo:"http://i0.hdslb.com/bfs/archive/3dfba664353bb2349917eaf81b60db34b2d4c61a.png",goto:"0",param:"",uri:"bilibili://pgc/cinema",type:1,config:[{scenes_name:"region",scenes_type:"top"}]},{tid:65549,reid:0,name:"工房集市",logo:"http://i0.hdslb.com/bfs/feed-admin/d89a76f987820ffa3c7d5c62789ebd784c68ac07.png",goto:"0",param:"",uri:"https://mall.bilibili.com/neul-next/index.html?page=mall-up_market&noTitleBar=1&msource=js_subarea",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65550,reid:0,name:"游戏赛事",logo:"http://i0.hdslb.com/bfs/archive/a93687a7f29da88ee375109389b0634412847bd1.png",goto:"0",param:"",uri:"https://www.bilibili.com/h5/match/data/home?navhide=1",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65550,reid:0,name:"遊戲賽事",logo:"http://i0.hdslb.com/bfs/archive/a93687a7f29da88ee375109389b0634412847bd1.png",goto:"0",param:"",uri:"https://www.bilibili.com/h5/game/home?navhide=1",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65551,reid:0,name:"小黑屋",logo:"http://i0.hdslb.com/bfs/archive/ed4f676e8c1f1029b8e37e2f567875b682e632ce.png",goto:"0",param:"",uri:"https://www.bilibili.com/blackroom",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65552,reid:0,name:"全区排行榜",logo:"http://i0.hdslb.com/bfs/archive/34f46c749054b1c3c157b0c1c09a5ef2b3539204.png",goto:"0",param:"",uri:"bilibili://rank/",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65553,reid:0,name:"活动中心",logo:"http://i0.hdslb.com/bfs/archive/3e2e6d338aa8156dc6f63c5dc8c75ed298c5cc9a.png",goto:"0",param:"",uri:"bilibili://activity_center/",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65555,reid:0,name:"漫画",logo:"http://i0.hdslb.com/bfs/archive/d260e72fb98251dabe4f64858f65cc697a71587e.png",goto:"0",param:"",uri:"bilibili://comic/home?from=manga_channel",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65555,reid:0,name:"漫画",logo:"http://i0.hdslb.com/bfs/archive/d260e72fb98251dabe4f64858f65cc697a71587e.png",goto:"0",param:"",uri:"bilibili://comic/home?from=ipadmanga_channel",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65556,reid:0,name:"原創排行榜",logo:"http://i0.hdslb.com/bfs/archive/5f232dbcb590e81dbd3dab6d2c906cff70547841.png",goto:"0",param:"",uri:"bilibili://rank?type=original",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65557,reid:0,name:"公开课",logo:"http://i0.hdslb.com/bfs/feed-admin/99366a6ea47d7790f57699112bc1d0c6d5f0d302.png",goto:"0",param:"",uri:"https://www.bilibili.com/h5/mooc?navhide=1",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65559,reid:0,name:"VLOG",logo:"http://i0.hdslb.com/bfs/archive/c794e8220a8cbe3d83b83e76e753c57df67b036a.png",goto:"0",param:"",uri:"https://www.bilibili.com/h5/vlog?from=2",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65560,reid:0,name:"课堂",logo:"http://i0.hdslb.com/bfs/archive/7400e63e28ab9933a3fa8adb3bd63e3a20911641.png",goto:"0",param:"",uri:"https://m.bilibili.com/cheese/home?navhide=1",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65561,reid:0,name:"专题中心",logo:"http://i0.hdslb.com/bfs/archive/5c15009ace7f8bbb22c5b46cee3995525bbd9ed0.png",goto:"0",param:"",uri:"bilibili://topic/",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:65563,reid:0,name:"新歌热榜",logo:"http://i0.hdslb.com/bfs/archive/518ba4a46b8ca94c0f29397e09acb345020fb867.png",goto:"0",param:"",uri:"https://www.bilibili.com/h5/musicplus?navhide=1",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]}],modify:[{tid:6544,reid:0,name:"番劇(港澳台)",logo:"http://i0.hdslb.com/bfs/archive/6f629bd0dcd71d7b9911803f8e4f94fd0e5b4bfd.png",goto:"0",param:"",uri:"bilibili://following/home_bottom_tab_activity_tab/6544",type:0,is_bangumi:1,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:95636,reid:0,name:"韩综(港澳台)",logo:"http://i0.hdslb.com/bfs/archive/a9bcb4cb7e216c2ea28ba3dc10acd2d210f739bd.png",goto:"0",param:"",uri:"bilibili://following/home_bottom_tab_activity_tab/95636",type:0,is_bangumi:1,config:[{scenes_name:"region",scenes_type:"bottom"}]},{tid:168312,reid:0,name:"節目(港澳台)",logo:"http://i0.hdslb.com/bfs/archive/f90bb1ef59630ad9765486c6088a4944b96e88a3.png",goto:"0",param:"",uri:"bilibili://following/home_bottom_tab_activity_tab/168312",type:0,config:[{scenes_name:"region",scenes_type:"bottom"}]}]}},r={Settings:n,Configs:s},c=Database={Default:Object.freeze({__proto__:null,Settings:a,default:o}),Enhanced:Object.freeze({__proto__:null,Configs:s,Settings:n,default:r})};function d(t,a,o){console.log("☑️ Set Environment Variables","");let{Settings:n,Caches:s,Configs:r}=function(t,a,o){let n=i.getItem(t,o),s={};if("undefined"!=typeof $argument&&Boolean($argument)){let i=Object.fromEntries($argument.split("&").map((e=>e.split("=").map((e=>e.replace(/\"/g,""))))));for(let t in i)e.set(s,t,i[t])}const r={Settings:o?.Default?.Settings||{},Configs:o?.Default?.Configs||{},Caches:{}};Array.isArray(a)||(a=[a]);for(let e of a)r.Settings={...r.Settings,...o?.[e]?.Settings,...s,...n?.[e]?.Settings},r.Configs={...r.Configs,...o?.[e]?.Configs},n?.[e]?.Caches&&"string"==typeof n?.[e]?.Caches&&(n[e].Caches=JSON.parse(n?.[e]?.Caches)),r.Caches={...r.Caches,...n?.[e]?.Caches};return function e(i,t){for(var a in i){var o=i[a];i[a]="object"==typeof o&&null!==o?e(o,t):t(a,o)}return i}(r.Settings,((e,i)=>("true"===i||"false"===i?i=JSON.parse(i):"string"==typeof i&&(i=i.includes(",")?i.split(",").map((e=>c(e))):c(i)),i))),r;function c(e){return e&&!isNaN(e)&&(e=parseInt(e,10)),e}}(t,a,o);return Array.isArray(n?.Home?.Top)||e.set(n,"Home.Top",n?.Home?.Top?[n.Home.Top]:[]),Array.isArray(n?.Home?.Top_more)||e.set(n,"Home.Top_more",n?.Home?.Top_more?[n.Home.Top_more]:[]),Array.isArray(n?.Home?.Tab)||e.set(n,"Home.Tab",n?.Home?.Tab?[n.Home.Tab]:[]),Array.isArray(n?.Following?.Tab)||e.set(n,"Following.Tab",n?.Following?.Tab?[n.Following.Tab]:[]),Array.isArray(n?.Bottom)||e.set(n,"Bottom",n?.Bottom?[n.Bottom]:[]),Array.isArray(n?.Mine?.CreatorCenter)||e.set(n,"Mine.CreatorCenter",n?.Mine?.CreatorCenter?[n.Mine.CreatorCenter]:[]),Array.isArray(n?.Mine?.Recommend)||e.set(n,"Mine.Recommend",n?.Mine?.Recommend?[n.Mine.Recommend]:[]),Array.isArray(n?.Mine?.More)||e.set(n,"Mine.More",n?.Mine?.More?[n.Mine.More]:[]),Array.isArray(n?.Mine?.iPad?.Upper)||e.set(n,"Mine.iPad.Upper",n?.Mine?.iPad?.Upper?[n.Mine.iPad.Upper]:[]),Array.isArray(n?.Mine?.iPad?.Recommend)||e.set(n,"Mine.iPad.Recommend",n?.Mine?.iPad?.Recommend?[n.Mine.iPad.Recommend]:[]),Array.isArray(n?.Mine?.iPad?.More)||e.set(n,"Mine.iPad.More",n?.Mine?.iPad?.More?[n.Mine.iPad.More]:[]),Array.isArray(n?.Region?.Index)||e.set(n,"Region.Index",n?.Region?.Index?[n.Region.Index]:[]),console.log(`✅ Set Environment Variables, Settings: ${typeof n}, Settings内容: ${JSON.stringify(n)}`,""),{Settings:n,Caches:s,Configs:r}}const m=new t("📺 BiliBili: ⚙️ Enhanced v0.4.0(1) response"),p=new class{constructor(e,i=void 0){return console.log("\n🟧 URL v2.1.0\n"),e=this.#o(e,i),this}#o(e,i=void 0){const t=/(?:(?<protocol>\w+:)\/\/(?:(?<username>[^\s:"]+)(?::(?<password>[^\s:"]+))?@)?(?<host>[^\s@/]+))?(?<pathname>\/?[^\s@?]+)?(?<search>\?[^\s?]+)?/,a=/(?<hostname>.+):(?<port>\d+)$/;if(e=e.match(t)?.groups||{},i&&(!(i=i?.match(t)?.groups||{}).protocol||!i.hostname))throw new Error(`🚨 ${name}, ${i} is not a valid URL`);if((e.protocol||i?.protocol)&&(this.protocol=e.protocol||i.protocol),(e.username||i?.username)&&(this.username=e.username||i.username),(e.password||i?.password)&&(this.password=e.password||i.password),(e.host||i?.host)&&(this.host=e.host||i.host,Object.freeze(this.host),this.hostname=this.host.match(a)?.groups.hostname??this.host,this.port=this.host.match(a)?.groups.port??""),e.pathname||i?.pathname){if(this.pathname=e.pathname||i?.pathname,this.pathname.startsWith("/")||(this.pathname="/"+this.pathname),this.paths=this.pathname.split("/").filter(Boolean),Object.freeze(this.paths),this.paths){const e=this.paths[this.paths.length-1];if(e?.includes(".")){const i=e.split(".");this.format=i[i.length-1],Object.freeze(this.format)}}}else this.pathname="";if((e.search||i?.search)&&(this.search=e.search||i.search,Object.freeze(this.search),this.search)){const e=this.search.slice(1).split("&").map((e=>e.split("=")));this.searchParams=new Map(e)}return this.harf=this.toString(),Object.freeze(this.harf),this}toString(){let e="";return this.protocol&&(e+=this.protocol+"//"),this.username&&(e+=this.username+(this.password?":"+this.password:"")+"@"),this.hostname&&(e+=this.hostname),this.port&&(e+=":"+this.port),this.pathname&&(e+=this.pathname),this.searchParams&&(e+="?"+Array.from(this.searchParams).map((e=>e.join("="))).join("&")),e}toJSON(){return JSON.stringify({...this})}}($request.url);m.log(`⚠ url: ${p.toJSON()}`,"");const l=$request.method,b=p.hostname,g=p.pathname;m.log(`⚠ METHOD: ${l}, HOST: ${b}, PATH: ${g}`,"");const h=($response.headers?.["Content-Type"]??$response.headers?.["content-type"])?.split(";")?.[0];m.log(`⚠ FORMAT: ${h}`,""),(async()=>{const{Settings:e,Caches:i,Configs:t}=d("BiliBili","Enhanced",c);switch(m.log(`⚠ Settings.Switch: ${e?.Switch}`,""),e.Switch){case!0:default:let o={code:0,message:"0",data:{}};switch(h){case void 0:case"application/x-www-form-urlencoded":case"text/plain":default:case"application/x-mpegURL":case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"audio/mpegurl":case"text/xml":case"text/html":case"text/plist":case"application/xml":case"application/plist":case"application/x-plist":case"text/vtt":case"application/vtt":break;case"text/json":case"application/json":switch(o=JSON.parse($response.body??"{}"),b){case"www.bilibili.com":break;case"app.bilibili.com":case"app.biliapi.net":switch(g){case"/x/resource/show/tab/v2":o.data.top_left=t.Tab.top_left[e.Home.Top_left],o.data.top=t.Tab.top.map((i=>{if(e.Home.Top.includes(i.tab_id))return i})).filter(Boolean).map(((e,i)=>(e.pos=i+1,e))),o.data.tab=t.Tab.tab.map((i=>{if(e.Home.Tab.includes(i.tab_id))return i})).filter(Boolean).map(((i,t)=>(e.Home.Tab_default==i.tab_id&&(i.default_selected=1),i.pos=t+1,i))),o.data.bottom=t.Tab.bottom.map((i=>{if(e.Bottom.includes(i.tab_id))return i})).filter(Boolean).map(((e,i)=>(e.pos=i+1,e)));break;case"/x/resource/show/tab/bubble":break;case"/x/v2/account/mine":o.data.sections_v2=t.Mine.sections_v2.map((i=>{switch(i.title){case"创作中心":i.items=i.items.map((i=>{if(e.Mine.CreatorCenter.includes(i.id))return i})).filter(Boolean);break;case"推荐服务":i.items=i.items.map((i=>{if(e.Mine.Recommend.includes(i.id))return i})).filter(Boolean);break;case"更多服务":i.items=i.items.map((i=>{if(e.Mine.More.includes(i.id))return i})).filter(Boolean)}return i.items.some((()=>!0))||(i={}),i}));break;case"/x/v2/account/mine/ipad":o.data.ipad_upper_sections=t.Mine.ipad_upper_sections.map((i=>{if(e.Mine.iPad.Upper.includes(i.id))return i})).filter(Boolean),o.data.ipad_recommend_sections=t.Mine.ipad_recommend_sections.map((i=>{if(e.Mine.iPad.Recommend.includes(i.id))return i})).filter(Boolean),o.data.ipad_more_sections=t.Mine.ipad_more_sections.map((i=>{if(e.Mine.iPad.More.includes(i.id))return i})).filter(Boolean);break;case"/x/v2/region/index":case"/x/v2/channel/region/list":switch(o.data.push(...t.Region.index,...t.Region.modify),o.data=s(o.data,"tid"),o.data=o.data.sort((a="tid",function(e,i){var t=e[a],o=i[a];return t-o})),o.data=o.data.map((i=>{if(e.Region.Index.includes(i.tid))return i})).filter(Boolean),g){case"/x/v2/region/index":break;case"/x/v2/channel/region/list":o.data=o.data.map((e=>("0"==e.goto&&(e.goto=""),delete e.children,delete e.config,e)))}function s(e,i){const t=new Map;return e.filter((e=>!t.has(e[i])&&t.set(e[i],1)))}}}$response.body=JSON.stringify(o);break;case"application/protobuf":case"application/x-protobuf":case"application/vnd.google.protobuf":case"application/grpc":case"application/grpc+proto":case"application/octet-stream":let n=m.isQuanX()?new Uint8Array($response?.bodyBytes??[]):$response?.body??new Uint8Array;m.isQuanX()?$response.bodyBytes=n:$response.body=n}break;case!1:m.log("⚠ 功能关闭","")}var a})().catch((e=>m.logErr(e))).finally((()=>m.done($response)));
